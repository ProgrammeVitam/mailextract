<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (1.8.0_131) on Wed Aug 30 22:29:32 CEST 2017 -->
<title>MailBoxMessage</title>
<meta name="date" content="2017-08-30">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MailBoxMessage";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":10,"i2":10,"i3":10,"i4":6,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MailBoxMessage.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/MailBoxFolder.html" title="class in fr.gouv.vitam.tools.mailextract.lib.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/StoreExtractor.html" title="class in fr.gouv.vitam.tools.mailextract.lib.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?fr/gouv/vitam/tools/mailextract/lib/core/MailBoxMessage.html" target="_top">Frames</a></li>
<li><a href="MailBoxMessage.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">fr.gouv.vitam.tools.mailextract.lib.core</div>
<h2 title="Class MailBoxMessage" class="title">Class MailBoxMessage</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>Object</li>
<li>
<ul class="inheritance">
<li>fr.gouv.vitam.tools.mailextract.lib.core.MailBoxMessage</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/javamail/JMMailBoxMessage.html" title="class in fr.gouv.vitam.tools.mailextract.lib.javamail">JMMailBoxMessage</a>, <a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/libpst/LPMailBoxMessage.html" title="class in fr.gouv.vitam.tools.mailextract.lib.libpst">LPMailBoxMessage</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">MailBoxMessage</span>
extends Object</pre>
<div class="block">Abstract class for a mail box message.
 <p>
 It defines all information (descriptive metadata and objects) to collect from
 a message and the method to generate directory/files structure from this
 information. Each subclass has to be able to extract these informations from
 a message.
 <ul>
 <p>
 Metadata information to collect in Vitam guidelines for mail extraction
 <li>Subject (Title metadata),</li>
 <li>List of "From" addresses (Writer metadata),</li>
 <li>List of "To" recipients addresses (Addressee metadata),</li>
 <li>List of "Cc" and "Bcc" recipients addresses (Recipient metadata),</li>
 <li>Message unique ID given by the sending server (OriginatingSystmId
 metadata),</li>
 <li>Sent date (SentDate metadata),</li>
 <li>Received date (ReceivedDate metadata),</li> In the descriptive metadata
 is also added the DescriptionLevel, which is Item for message, for Body and
 for Attachements.
 <p>
 Metadata information extracted for study
 <li>Message unique ID of the message replied to (and in some implementation
 forwarded) by the current message (OriginatingSystemId-ReplyTo
 metadata),</li>
 <li>List of message unique ID of messages in the same thread of forward and
 reply (OriginatingSystemId-References metadata),</li>
 <li>List of "Sender" addresses, address of the person sending the mail, for
 example a secretary for his boss (Sender metadata),</li>
 <li>List of "Reply-To" addresses (ReplyTo metadata),</li>
 <li>List of "Return-Path" addresses, more reliable information given by the
 first mail relay server (ReturnPath metadata),</li>
 <li>Complete mail header (MailHeader metadata).</li>
 <p>
 Content information extracted
 <li>Text Content, text extraction of the message body,</li>
 <li>Attachments, content with filename,</li>
 <li>Raw Content, message as is in the mailbox.</li>
 </ul>
 <p>
 All addresses fields are lists because even for one only person, they can
 contain different forms of the address, as Microsoft ActiveDirectory DN and
 smtp address.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/MailBoxMessage.html#analyzeMessage--">analyzeMessage</a></span>()</code>
<div class="block">Analyze message to collect metadata and content information (protocol
 specific).</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/MailBoxMessage.html#countMessage--">countMessage</a></span>()</code>
<div class="block">Add this message in the folder accumulators for number of messages and
 total raw size of messages.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/MailBoxMessage.html#extractMessage-boolean-">extractMessage</a></span>(boolean&nbsp;writeFlag)</code>
<div class="block">Create the Archive Unit structures with all content and metadata needed,
 and then write them on disk if writeFlag is true
 
 This is "the" method where the extraction structure and content is mainly
 defined (see also <a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/MailBoxFolder.html#extractFolder-int-boolean-"><code>extractFolder</code></a> and
 <a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/StoreExtractor.html#extractAllFolders--"><code>extractAllFolders</code></a>).</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.logging.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/MailBoxMessage.html#getLogger--">getLogger</a></span>()</code>
<div class="block">Gets the logger created during the store extractor construction, and used
 in all mailextract classes.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>abstract long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/MailBoxMessage.html#getMessageSize--">getMessageSize</a></span>()</code>
<div class="block">Gets the message size.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.Date</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/MailBoxMessage.html#getSentDate--">getSentDate</a></span>()</code>
<div class="block">Gets the sent date.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/StoreExtractor.html" title="class in fr.gouv.vitam.tools.mailextract.lib.core">StoreExtractor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/MailBoxMessage.html#getStoreExtractor--">getStoreExtractor</a></span>()</code>
<div class="block">Gets the current operation store extractor.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getSentDate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSentDate</h4>
<pre>public&nbsp;java.util.Date&nbsp;getSentDate()</pre>
<div class="block">Gets the sent date.
 
 <p>
 Specific metadata getter used for folder date range computation.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the sent date</dd>
</dl>
</li>
</ul>
<a name="getMessageSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessageSize</h4>
<pre>public abstract&nbsp;long&nbsp;getMessageSize()</pre>
<div class="block">Gets the message size.
 
 <p>
 Specific information getter used for listing size statistic of folders.
 Depend on sub class implementation.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the message size</dd>
</dl>
</li>
</ul>
<a name="getLogger--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogger</h4>
<pre>public&nbsp;java.util.logging.Logger&nbsp;getLogger()</pre>
<div class="block">Gets the logger created during the store extractor construction, and used
 in all mailextract classes.
 
 <p>
 For convenience each class which may have some log actions has it's own
 getLogger method always returning the store extractor logger.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>logger</dd>
</dl>
</li>
</ul>
<a name="getStoreExtractor--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStoreExtractor</h4>
<pre>public&nbsp;<a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/StoreExtractor.html" title="class in fr.gouv.vitam.tools.mailextract.lib.core">StoreExtractor</a>&nbsp;getStoreExtractor()</pre>
<div class="block">Gets the current operation store extractor.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>storeExtractor</dd>
</dl>
</li>
</ul>
<a name="analyzeMessage--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>analyzeMessage</h4>
<pre>public abstract&nbsp;void&nbsp;analyzeMessage()
                             throws <a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/ExtractionException.html" title="class in fr.gouv.vitam.tools.mailextract.lib.core">ExtractionException</a></pre>
<div class="block">Analyze message to collect metadata and content information (protocol
 specific).
 
 <p>
 This is the main method for sub classes, where all metadata and
 information has to be extracted in standard representation out of the
 inner representation of the message.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/ExtractionException.html" title="class in fr.gouv.vitam.tools.mailextract.lib.core">ExtractionException</a></code> - Any unrecoverable extraction exception (access trouble, major
             format problems...)</dd>
</dl>
</li>
</ul>
<a name="extractMessage-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extractMessage</h4>
<pre>public final&nbsp;void&nbsp;extractMessage(boolean&nbsp;writeFlag)
                          throws <a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/ExtractionException.html" title="class in fr.gouv.vitam.tools.mailextract.lib.core">ExtractionException</a></pre>
<div class="block">Create the Archive Unit structures with all content and metadata needed,
 and then write them on disk if writeFlag is true
 <p>
 This is "the" method where the extraction structure and content is mainly
 defined (see also <a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/MailBoxFolder.html#extractFolder-int-boolean-"><code>extractFolder</code></a> and
 <a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/StoreExtractor.html#extractAllFolders--"><code>extractAllFolders</code></a>).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>writeFlag</code> - write or not flag (no write used for stats)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/ExtractionException.html" title="class in fr.gouv.vitam.tools.mailextract.lib.core">ExtractionException</a></code> - Any unrecoverable extraction exception (access trouble, major
             format problems...)</dd>
</dl>
</li>
</ul>
<a name="countMessage--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>countMessage</h4>
<pre>public&nbsp;void&nbsp;countMessage()
                  throws <a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/ExtractionException.html" title="class in fr.gouv.vitam.tools.mailextract.lib.core">ExtractionException</a></pre>
<div class="block">Add this message in the folder accumulators for number of messages and
 total raw size of messages.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/ExtractionException.html" title="class in fr.gouv.vitam.tools.mailextract.lib.core">ExtractionException</a></code> - Any unrecoverable extraction exception (access trouble, major
             format problems...)</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MailBoxMessage.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/MailBoxFolder.html" title="class in fr.gouv.vitam.tools.mailextract.lib.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../fr/gouv/vitam/tools/mailextract/lib/core/StoreExtractor.html" title="class in fr.gouv.vitam.tools.mailextract.lib.core"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?fr/gouv/vitam/tools/mailextract/lib/core/MailBoxMessage.html" target="_top">Frames</a></li>
<li><a href="MailBoxMessage.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
