<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="fr">
<head>
<!-- Generated by javadoc (1.8.0_91) on Sun Aug 28 17:25:44 CEST 2016 -->
<title>StoreExtractor</title>
<meta name="date" content="2016-08-28">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="StoreExtractor";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":9,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StoreExtractor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/MetaDataString.html" title="class in fr.gouv.vitam.tools.mailextract.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html" target="_top">Frames</a></li>
<li><a href="StoreExtractor.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">fr.gouv.vitam.tools.mailextract.core</div>
<h2 title="Class StoreExtractor" class="title">Class StoreExtractor</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>Object</li>
<li>
<ul class="inheritance">
<li>fr.gouv.vitam.tools.mailextract.core.StoreExtractor</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../../fr/gouv/vitam/tools/mailextract/javamail/JMStoreExtractor.html" title="class in fr.gouv.vitam.tools.mailextract.javamail">JMStoreExtractor</a>, <a href="../../../../../../fr/gouv/vitam/tools/mailextract/libpst/LPStoreExtractor.html" title="class in fr.gouv.vitam.tools.mailextract.libpst">LPStoreExtractor</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">StoreExtractor</span>
extends Object</pre>
<div class="block">Abstract factory class for operation context on a defined mailbox.
 
 <p>
 The <a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#createStoreExtractor-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-int-java.util.logging.Logger-"><code>createStoreExtractor</code></a> call create a
 StoreExtractor subclass convenient for the declared protocol. This creation
 specify the target of extraction, the different options of extraction, or
 listing, and the log level. It makes a first level of connection and
 compliance check to warranty other methods calls a viable mail box access.
 
 The StoreExtractor object has the context and links used to perform
 extraction or structure listing of mail boxes from different sources:
 <ul>
 <li>IMAP server with user/password login</li>
 <li>Thunderbird directory containing mbox files and .sbd directory
 hierarchy</li>
 <li>Outlook pst file</li>
 </ul>
 
 <p>
 The extraction generate on disk a directories/files structure convenient for
 SEDA archive packet (NF Z44-022), which is:
 <ul>
 <li>each folder is extracted as a directory named "Folder#'UniqID': 'name'",
 with uniqID being a unique ID innerly generated and name being the first 32
 characters of the folder name UTF-8 encoded. The folder descriptive metadata
 is in the file named manifest.json (json/UTF-8 encoded) in its directory. It
 represent the folder ArchiveUnit with no objects</li>
 <li>each message is extracted in a directory named "Message#'UniqID':
 'name'", with name being the first 32 characters of the folder name UTF-8
 encoded. It represent the message ArchiveUnit with no objects. In this
 message directory, there's:
 <ul>
 <li>the message descriptive metadata file (manifest.json),</li>
 <li>one directory by attachment (if any) named "__Attachment#'UniqID':
 'name'__" with the name being the firts 32 characters of the attachment
 filename and the starting and ending "__" indicating that this folder
 represent an ArchiveUnit with objects. In this folder are :</li>
 <ul>
 <li>the attachment descriptive metadata file (manifest.json), and</li>
 <li>the attachment binary file, being a final object, is named according the
 format "'ObjectType'-'Version'-'filename'", with in this case ObjectType
 being "BinaryMaster", version being "1", filename being the attachment file
 name with extension if any.</li>
 </ul>
 <li>one directory for the message body named "__Body__" with the starting and
 ending "__" indicating that this folder represent an ArchiveUnit with
 objects. In this folder are :</li>
 <ul>
 <li>the message object descriptive metadata file (manifest.json),
 <li>the message body binary file, being a final object, named
 "BinaryMaster_1_object" (no filename), and</li>
 <li>the message body text content, being a final object, named
 "TextContent_1_object" (no filename).</li>
 </ul>
 </ul>
 </ul>
 Note: when CONST_NAMES_SHORTENED option is enabled, during the name
 generation the directory type is reduced to it's first character (Folder to
 F, Message to M...) and not 32 but only 8 characters from objects names are
 used
 <p>
 For detailed information on descritptive metadata collected see
 <a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/MailBoxFolder.html" title="class in fr.gouv.vitam.tools.mailextract.core"><code>MailBoxFolder</code></a> and <a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/MailBoxMessage.html" title="class in fr.gouv.vitam.tools.mailextract.core"><code>MailBoxMessage</code></a>.
 <p>
 The extraction or listing operation is logged on console and file
 (root/username[-timestamp].log - cf args). At the different levels (using
 <code>Logger</code>) you can have: extraction errors (SEVERE),
 warning about extraction problems and items dropped (WARNING), information
 about global process (INFO), list of treated folders (FINE), list of treated
 messages (FINER), problems with some expected metadata (FINEST).
 
 <p>
 Note: Metadata values are, for now, hardcoded in french</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#CONST_DROP_EMPTY_FOLDERS">CONST_DROP_EMPTY_FOLDERS</a></span></code>
<div class="block">DROP_EMPTY_FOLDERS option constant</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#CONST_KEEP_ONLY_DEEP_EMPTY_FOLDERS">CONST_KEEP_ONLY_DEEP_EMPTY_FOLDERS</a></span></code>
<div class="block">KEEP_ONLY_DEEP_EMPTY_FOLDERS option constant</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#CONST_NAMES_SHORTENED">CONST_NAMES_SHORTENED</a></span></code>
<div class="block">NAMES_SHORTENED option constant</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#CONST_WARNING_MSG_PROBLEM">CONST_WARNING_MSG_PROBLEM</a></span></code>
<div class="block">WARNING_MSG_PROBLEMS option constant</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#container">container</a></span></code>
<div class="block">Path to the local extraction target (Thunderbird or Outlook), can be null
 of not used</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#destName">destName</a></span></code>
<div class="block">Path and name of the extraction directory</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#destRootPath">destRootPath</a></span></code>
<div class="block">Path and name of the extraction directory</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#folder">folder</a></span></code>
<div class="block">Path of the extracted folder in the account mail box, can be null if
 default root folder</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#options">options</a></span></code>
<div class="block">Extractor options, flags coded on an int, defined thru constants</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#password">password</a></span></code>
<div class="block">Password, can be null if not used</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#protocol">protocol</a></span></code>
<div class="block">Protocol used for extraction (imap| thundermbox| pstfile)</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/MailBoxFolder.html" title="class in fr.gouv.vitam.tools.mailextract.core">MailBoxFolder</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#rootAnalysisMBFolder">rootAnalysisMBFolder</a></span></code>
<div class="block">Root folder for extraction (can be different form account root)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#server">server</a></span></code>
<div class="block">Server of target account ((hostname|ip)[:port])</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#user">user</a></span></code>
<div class="block">User account name</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#StoreExtractor-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-int-java.util.logging.Logger-">StoreExtractor</a></span>(String&nbsp;protocol,
              String&nbsp;server,
              String&nbsp;user,
              String&nbsp;password,
              String&nbsp;container,
              String&nbsp;folder,
              String&nbsp;destRootPath,
              String&nbsp;destName,
              int&nbsp;options,
              java.util.logging.Logger&nbsp;logger)</code>
<div class="block">Instantiates a new store extractor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#addTotalMessagesCount-int-">addTotalMessagesCount</a></span>(int&nbsp;count)</code>
<div class="block">Increment the messages total count.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#addTotalRawSize-long-">addTotalRawSize</a></span>(long&nbsp;messageSize)</code>
<div class="block">Add to total raw size.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static <a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html" title="class in fr.gouv.vitam.tools.mailextract.core">StoreExtractor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#createStoreExtractor-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-int-java.util.logging.Logger-">createStoreExtractor</a></span>(String&nbsp;protocol,
                    String&nbsp;server,
                    String&nbsp;user,
                    String&nbsp;password,
                    String&nbsp;container,
                    String&nbsp;folder,
                    String&nbsp;destRootPath,
                    String&nbsp;destName,
                    int&nbsp;options,
                    java.util.logging.Logger&nbsp;logger)</code>
<div class="block">Create a store extractor as a factory creator.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#extractAllFolders--">extractAllFolders</a></span>()</code>
<div class="block">Extract all folders from the defined root folder (considering drop
 options).</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#getFolderTotalCount--">getFolderTotalCount</a></span>()</code>
<div class="block">Gets the total count of all analyzed folders.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.logging.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#getLogger--">getLogger</a></span>()</code>
<div class="block">Gets the logger created during the store extractor construction, and used
 in all mailextract classes.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#getTotalMessagesCount--">getTotalMessagesCount</a></span>()</code>
<div class="block">Gets the total count of all analyzed messages.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#getTotalRawSize--">getTotalRawSize</a></span>()</code>
<div class="block">Gets the total raw size of all analyzed messages.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#getUniqID--">getUniqID</a></span>()</code>
<div class="block">Gets a uniq ID in store extractor context.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#hasOptions-int-">hasOptions</a></span>(int&nbsp;flags)</code>
<div class="block">Checks for options.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#incTotalFoldersCount--">incTotalFoldersCount</a></span>()</code>
<div class="block">Increment the folders total count.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html#listAllFolders-boolean-">listAllFolders</a></span>(boolean&nbsp;stats)</code>
<div class="block">List all folders from the defined root folder (no drop options).</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="protocol">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>protocol</h4>
<pre>protected&nbsp;String protocol</pre>
<div class="block">Protocol used for extraction (imap| thundermbox| pstfile)</div>
</li>
</ul>
<a name="server">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>server</h4>
<pre>protected&nbsp;String server</pre>
<div class="block">Server of target account ((hostname|ip)[:port])</div>
</li>
</ul>
<a name="user">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>user</h4>
<pre>protected&nbsp;String user</pre>
<div class="block">User account name</div>
</li>
</ul>
<a name="password">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>password</h4>
<pre>protected&nbsp;String password</pre>
<div class="block">Password, can be null if not used</div>
</li>
</ul>
<a name="container">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>container</h4>
<pre>protected&nbsp;String container</pre>
<div class="block">Path to the local extraction target (Thunderbird or Outlook), can be null
 of not used</div>
</li>
</ul>
<a name="folder">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>folder</h4>
<pre>protected&nbsp;String folder</pre>
<div class="block">Path of the extracted folder in the account mail box, can be null if
 default root folder</div>
</li>
</ul>
<a name="destRootPath">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destRootPath</h4>
<pre>protected&nbsp;String destRootPath</pre>
<div class="block">Path and name of the extraction directory</div>
</li>
</ul>
<a name="destName">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destName</h4>
<pre>protected&nbsp;String destName</pre>
<div class="block">Path and name of the extraction directory</div>
</li>
</ul>
<a name="options">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>options</h4>
<pre>protected&nbsp;int options</pre>
<div class="block">Extractor options, flags coded on an int, defined thru constants</div>
</li>
</ul>
<a name="rootAnalysisMBFolder">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rootAnalysisMBFolder</h4>
<pre>protected&nbsp;<a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/MailBoxFolder.html" title="class in fr.gouv.vitam.tools.mailextract.core">MailBoxFolder</a> rootAnalysisMBFolder</pre>
<div class="block">Root folder for extraction (can be different form account root)</div>
</li>
</ul>
<a name="CONST_KEEP_ONLY_DEEP_EMPTY_FOLDERS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONST_KEEP_ONLY_DEEP_EMPTY_FOLDERS</h4>
<pre>public static final&nbsp;int CONST_KEEP_ONLY_DEEP_EMPTY_FOLDERS</pre>
<div class="block">KEEP_ONLY_DEEP_EMPTY_FOLDERS option constant</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#fr.gouv.vitam.tools.mailextract.core.StoreExtractor.CONST_KEEP_ONLY_DEEP_EMPTY_FOLDERS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CONST_DROP_EMPTY_FOLDERS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONST_DROP_EMPTY_FOLDERS</h4>
<pre>public static final&nbsp;int CONST_DROP_EMPTY_FOLDERS</pre>
<div class="block">DROP_EMPTY_FOLDERS option constant</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#fr.gouv.vitam.tools.mailextract.core.StoreExtractor.CONST_DROP_EMPTY_FOLDERS">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CONST_WARNING_MSG_PROBLEM">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONST_WARNING_MSG_PROBLEM</h4>
<pre>public static final&nbsp;int CONST_WARNING_MSG_PROBLEM</pre>
<div class="block">WARNING_MSG_PROBLEMS option constant</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#fr.gouv.vitam.tools.mailextract.core.StoreExtractor.CONST_WARNING_MSG_PROBLEM">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="CONST_NAMES_SHORTENED">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CONST_NAMES_SHORTENED</h4>
<pre>public static final&nbsp;int CONST_NAMES_SHORTENED</pre>
<div class="block">NAMES_SHORTENED option constant</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../constant-values.html#fr.gouv.vitam.tools.mailextract.core.StoreExtractor.CONST_NAMES_SHORTENED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="StoreExtractor-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-int-java.util.logging.Logger-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>StoreExtractor</h4>
<pre>protected&nbsp;StoreExtractor(String&nbsp;protocol,
                         String&nbsp;server,
                         String&nbsp;user,
                         String&nbsp;password,
                         String&nbsp;container,
                         String&nbsp;folder,
                         String&nbsp;destRootPath,
                         String&nbsp;destName,
                         int&nbsp;options,
                         java.util.logging.Logger&nbsp;logger)
                  throws <a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/ExtractionException.html" title="class in fr.gouv.vitam.tools.mailextract.core">ExtractionException</a></pre>
<div class="block">Instantiates a new store extractor.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>protocol</code> - Protocol used for extraction (imap| thundermbox| pstfile)</dd>
<dd><code>server</code> - Server of target account ((hostname|ip)[:port</dd>
<dd><code>user</code> - User account name</dd>
<dd><code>password</code> - Password, can be null if not used</dd>
<dd><code>container</code> - Path to the local extraction target (Thunderbird or Outlook</dd>
<dd><code>folder</code> - Path of the extracted folder in the account mail box, can be
            null if default root folder</dd>
<dd><code>destRootPath</code> - Root path of the extraction directory</dd>
<dd><code>destName</code> - Name of the extraction directory</dd>
<dd><code>options</code> - Extractor options</dd>
<dd><code>logger</code> - Logger used (from <code>Logger</code>)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/ExtractionException.html" title="class in fr.gouv.vitam.tools.mailextract.core">ExtractionException</a></code> - Any unrecoverable extraction exception (access trouble, major
             format problems...)</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getLogger--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLogger</h4>
<pre>public&nbsp;java.util.logging.Logger&nbsp;getLogger()</pre>
<div class="block">Gets the logger created during the store extractor construction, and used
 in all mailextract classes.
 
 <p>
 For convenience each class which may have some log actions has it's own
 getLogger method always returning this store extractor logger.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>logger</dd>
</dl>
</li>
</ul>
<a name="getUniqID--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUniqID</h4>
<pre>public&nbsp;int&nbsp;getUniqID()</pre>
<div class="block">Gets a uniq ID in store extractor context.
 <p>
 Sequence incremented at each call</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a uniq ID</dd>
</dl>
</li>
</ul>
<a name="addTotalMessagesCount-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addTotalMessagesCount</h4>
<pre>public&nbsp;void&nbsp;addTotalMessagesCount(int&nbsp;count)</pre>
<div class="block">Increment the messages total count.</div>
</li>
</ul>
<a name="getTotalMessagesCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalMessagesCount</h4>
<pre>public&nbsp;int&nbsp;getTotalMessagesCount()</pre>
<div class="block">Gets the total count of all analyzed messages.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the message count</dd>
</dl>
</li>
</ul>
<a name="incTotalFoldersCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incTotalFoldersCount</h4>
<pre>public&nbsp;void&nbsp;incTotalFoldersCount()</pre>
<div class="block">Increment the folders total count.</div>
</li>
</ul>
<a name="getFolderTotalCount--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFolderTotalCount</h4>
<pre>public&nbsp;int&nbsp;getFolderTotalCount()</pre>
<div class="block">Gets the total count of all analyzed folders.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the folder total count</dd>
</dl>
</li>
</ul>
<a name="addTotalRawSize-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addTotalRawSize</h4>
<pre>public&nbsp;void&nbsp;addTotalRawSize(long&nbsp;messageSize)</pre>
<div class="block">Add to total raw size.</div>
</li>
</ul>
<a name="getTotalRawSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTotalRawSize</h4>
<pre>public&nbsp;long&nbsp;getTotalRawSize()</pre>
<div class="block">Gets the total raw size of all analyzed messages.
 <p>
 The "raw" size is the sum of the size of messages as in the mailbox, the
 extraction will be larger (up to x2)</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the total raw size</dd>
</dl>
</li>
</ul>
<a name="hasOptions-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasOptions</h4>
<pre>public&nbsp;boolean&nbsp;hasOptions(int&nbsp;flags)</pre>
<div class="block">Checks for options.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>flags</code> - constant values (CONST_...) |/+ composition</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true, if successful</dd>
</dl>
</li>
</ul>
<a name="createStoreExtractor-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-java.lang.String-int-java.util.logging.Logger-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createStoreExtractor</h4>
<pre>public static&nbsp;<a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html" title="class in fr.gouv.vitam.tools.mailextract.core">StoreExtractor</a>&nbsp;createStoreExtractor(String&nbsp;protocol,
                                                  String&nbsp;server,
                                                  String&nbsp;user,
                                                  String&nbsp;password,
                                                  String&nbsp;container,
                                                  String&nbsp;folder,
                                                  String&nbsp;destRootPath,
                                                  String&nbsp;destName,
                                                  int&nbsp;options,
                                                  java.util.logging.Logger&nbsp;logger)
                                           throws <a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/ExtractionException.html" title="class in fr.gouv.vitam.tools.mailextract.core">ExtractionException</a></pre>
<div class="block">Create a store extractor as a factory creator.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>protocol</code> - Protocol used for extraction (thundermbox| pstfiles| imap| imaps[not
            tested gimap| pop3])</dd>
<dd><code>server</code> - Server of target account ((hostname|ip)[:port</dd>
<dd><code>user</code> - User account name</dd>
<dd><code>password</code> - Password, can be null if not used</dd>
<dd><code>container</code> - Path to the local extraction target (Thunderbird or Outlook</dd>
<dd><code>folder</code> - Path of the extracted folder in the account mail box, can be
            null if default root folder</dd>
<dd><code>destRootPath</code> - Root path of the extraction directory</dd>
<dd><code>destName</code> - Name of the extraction directory</dd>
<dd><code>options</code> - Options (flag composition of CONST_)</dd>
<dd><code>logger</code> - Logger used (from <code>Logger</code>)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the store extractor, constructed as a non abstract subclass</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/ExtractionException.html" title="class in fr.gouv.vitam.tools.mailextract.core">ExtractionException</a></code> - Any unrecoverable extraction exception (access trouble, major
             format problems...)</dd>
</dl>
</li>
</ul>
<a name="extractAllFolders--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extractAllFolders</h4>
<pre>public&nbsp;void&nbsp;extractAllFolders()
                       throws <a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/ExtractionException.html" title="class in fr.gouv.vitam.tools.mailextract.core">ExtractionException</a></pre>
<div class="block">Extract all folders from the defined root folder (considering drop
 options).
 
 <p>
 This is a method where the extraction structure and content is partially
 defined (see also <a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/MailBoxMessage.html#extractMessage--"><code>extractMessage</code></a>
 and <a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/MailBoxFolder.html#extractFolder-int-"><code>extractFolder</code></a>).</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/ExtractionException.html" title="class in fr.gouv.vitam.tools.mailextract.core">ExtractionException</a></code> - Any unrecoverable extraction exception (access trouble, major
             format problems...)</dd>
</dl>
</li>
</ul>
<a name="listAllFolders-boolean-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>listAllFolders</h4>
<pre>public&nbsp;void&nbsp;listAllFolders(boolean&nbsp;stats)
                    throws <a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/ExtractionException.html" title="class in fr.gouv.vitam.tools.mailextract.core">ExtractionException</a></pre>
<div class="block">List all folders from the defined root folder (no drop options).
 
 <p>
 Warning: listing with detailed information is a potentially expensive
 operation, especially when accessing distant account, as all messages are
 inspected (in the case of a distant account that mean also
 downloaded...).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stats</code> - true if detailed information (number and raw size of messages
            in each folder) is asked for</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/ExtractionException.html" title="class in fr.gouv.vitam.tools.mailextract.core">ExtractionException</a></code> - Any unrecoverable extraction exception (access trouble, major
             format problems...)</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StoreExtractor.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../fr/gouv/vitam/tools/mailextract/core/MetaDataString.html" title="class in fr.gouv.vitam.tools.mailextract.core"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?fr/gouv/vitam/tools/mailextract/core/StoreExtractor.html" target="_top">Frames</a></li>
<li><a href="StoreExtractor.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
